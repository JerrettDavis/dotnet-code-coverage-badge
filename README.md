![Build](https://github.com/simon-k/dotnet-code-coverage-badge/workflows/CI/badge.svg?branch=main)
[![license](https://img.shields.io/badge/License-MIT-purple.svg)](LICENSE)
![semver](https://img.shields.io/badge/semver-2.0.0-blue)
[![market](https://img.shields.io/badge/Get_it-on_the_Marketplace-informational.svg)](https://github.com/marketplace/actions/dotnet-code-coverage-badge)

# .NET Code Coverage Badge
This action allows you to create badges for your README.md, with shields.io, which will show the code coverage percentage. This action does not need to push anything to your repository - it will use a gist instead. 

## How it Works
This action reads a code coverage report in opencover format. For example generated by the Coverlet package for .NET. Then it generates the shield.io data, and if 
a gist secret and filename is give, then the shields.io 

## Requirements
TODO: It is required that a test coverage report is in the workflow. 
TODO: Tell how to insall the coverlet nuget and how to run a test with coverage. 

## Inputs
TODO: Make a table with the input parameters. Name | Required or Optional | Description

## Outputs

TODO: Make a table with the output parameters. Name | Required or Optional | Description

## Example usage
TODO: Example
TODO: What to add in your readme

## Step-by-step Guide
### Create Gist
1. Go to [gist.github.com](https://gist.github.com/)
2. Create a new gist, and name the file something like ```code-coverage.yml```
3. Save the filename and the Gist ID (the long alphanumerical part of its URL). You'll need those later.
TODO: Insert screenshot here
4. Navigate to the [GitHub Developer Settings](https://github.com/settings/tokens) and create a new token with the gist scope. Save the token for later. NOTE: This must be done with the same user account that created the gist. And it is needed for the workflow to be able to update the Gist.
TODO: Insert screenshot here
4. Go to the Secrets page of the settings of the repository running the workflow
5. Create a new repository secret, containing the token from step 4. Name it something like ```GIST_AUTH_TOKEN```.
TODO: Insert screenchot here

### Configure Workflow
1. TODO: Describe steps

### Update Your Readme
1. TODO: Describe steps

## Contributing .NET Code Coverage Badge
### Bugs and Features
If you encounter a bug or want to suggest a new feature, then create a [GitHib Issue](https://github.com/simon-k/dotnet-code-coverage-badge/issues).

### Update the Sourceode
We are happy to receive contributions in the form of pull requests via Github. Feel free to branch the repository, implement your changes and create a pull request to the main branch.

### Versioning and Releases
We are using [semver](https://semver.org/). 
New releases are made by tagging the main branch.

## Notes
* The coverage report must be stored in ```utf8``` encoding

## References
* [GitHub Documentation](https://docs.github.com/en/actions/creating-actions/creating-a-javascript-action)
* [Action Tutorial](https://medium.com/better-programming/4-steps-to-creating-a-custom-github-action-d67c4cf0445a)
* [Dynamic Batch Action](https://github.com/Schneegans/dynamic-badges-action)
